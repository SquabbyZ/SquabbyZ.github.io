<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>SquabbyZ的小黑屋</title>
  
  <subtitle>技术博客</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.zhuhaifeng.xyz/"/>
  <updated>2019-04-29T07:36:23.920Z</updated>
  <id>http://www.zhuhaifeng.xyz/</id>
  
  <author>
    <name>Squabby Zhu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>同心圆坐标算法</title>
    <link href="http://www.zhuhaifeng.xyz/2019/04/25/echartsGraph/"/>
    <id>http://www.zhuhaifeng.xyz/2019/04/25/echartsGraph/</id>
    <published>2019-04-25T10:08:12.000Z</published>
    <updated>2019-04-29T07:36:23.920Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>由于项目中要搭建人物关系图谱，基于定制化不是很强，并且要求在短时间内实现同心圆人物关系图的效果，因此，我采用的是基于 Echarts V4 版本和 JQuery V3.4.0 来先实现的 graph 图,根据自己的摸索，研究出来了，echarts 的 graph 图坐标系的分布：</p><h1 id="先来阐述下，Echarts-的-graph-图的坐标系的展示"><a href="#先来阐述下，Echarts-的-graph-图的坐标系的展示" class="headerlink" title="先来阐述下，Echarts 的 graph 图的坐标系的展示"></a>先来阐述下，Echarts 的 graph 图的坐标系的展示</h1><p><strong>假设我们取的展示 echarts 的盒子的大小为 400pxX400px</strong><br>echarts 中 graph 的坐标系是左上角为 (0,0)点，右下角为 (400,400)<br>根据这个坐标位置的关系，我们可以确定要做同心圆的中心点的位置为 (200,200),话不多说，先来个干货,呈上一段动态生成的 nodes 和 links 的基本 demo 数据</p><p><b color="red" size="6">nodes 的数据的 id 一定要是字符串的类型，不要是数字 否则会出现如图的效果点<a href="#jump">点击这里</a></b></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nodes = [];</span><br><span class="line">   <span class="keyword">var</span> links = [];</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">     nodes.push(&#123;</span><br><span class="line">       id: <span class="string">`<span class="subst">$&#123;i&#125;</span>`</span>, <span class="comment">//这个 ID 在 nodes 数据中必须唯一，在 links 中可以重复出现</span></span><br><span class="line">       name: <span class="string">`demo<span class="subst">$&#123;i&#125;</span>`</span>, <span class="comment">//每个节点显示的名字</span></span><br><span class="line">       symbolSize: <span class="number">20</span>, <span class="comment">//节点在图中显示的大小</span></span><br><span class="line">       value: <span class="number">20</span> <span class="comment">//每个节点的数据大小，一般情况下保持和每个节点的 symbolSize 的值一致</span></span><br><span class="line">     &#125;);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   nodes.forEach(<span class="function">(<span class="params">ele, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (index != arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">       links.push(&#123;</span><br><span class="line">         id: <span class="string">`<span class="subst">$&#123;index * <span class="number">2</span>&#125;</span>`</span>, <span class="comment">//这个 ID 在 links 必须唯一，但是只是作为每条数据的 ID 而已，不影响图展示</span></span><br><span class="line">         name: <span class="string">`demo<span class="subst">$&#123;index&#125;</span>---demo<span class="subst">$&#123;index * <span class="number">1</span> + <span class="number">1</span> * <span class="number">1</span>&#125;</span>`</span>, <span class="comment">//节点和节点的连接线上显示的数据内容</span></span><br><span class="line">         source: <span class="string">`<span class="subst">$&#123;index&#125;</span>`</span>, <span class="comment">//起始点(来源)</span></span><br><span class="line">         target: <span class="string">`<span class="subst">$&#123;index * <span class="number">1</span> + <span class="number">1</span> * <span class="number">1</span>&#125;</span>`</span></span><br><span class="line">       &#125;);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure><p><strong><em>上面的代码是最基本的数据，但是要注意一点，如果你在 option 中 的 series 数组下的 layout 的属性值不写，或者其值为 none 的时候，会报错</em></strong></p><p><img src="http://lc-zltjehai.cn-n1.lcfile.com/14a84344e58bfc666ea5/echartsgraph.png" alt="avatar"></p><font color="red" size="3">Uncaught TypeError: Cannot read property ‘off’ of undefined</font><p><font color="red" size="5">echarts 中 option 的 series 的 layout 的默认属性值默认为 none</font><br>这个问题的主要原因,就是在于 nodes 数据上,对于初次使用 echarts 的 graph 图的同学来说，上来就给 nodes 数据加入 x , y 坐标的值，难度系数比较大，因为不懂如何通过自己算出每个点的坐标来进行展示，所以就会报上面的问题，还有可能是你的 nodes 数据中的 某个点的 x 或者 y 出现 NAN 的情况,所以想熟悉下的童鞋，在没有给 nodes 数据传入 x , y 的时候，一定要设置为 “force” 或者 “circular”.</p><h2 id="上个完整的前端代码，以供同学们学习："><a href="#上个完整的前端代码，以供同学们学习：" class="headerlink" title="上个完整的前端代码，以供同学们学习："></a>上个完整的前端代码，以供同学们学习：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>echarts 同心圆图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./echarts.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">      box-sizing: border-box;</span></span><br><span class="line"><span class="undefined">      margin: 0;</span></span><br><span class="line"><span class="undefined">      width: 100%;</span></span><br><span class="line"><span class="undefined">      height: 100%;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"graph"</span> <span class="attr">style</span>=<span class="string">"width:vw;height:100vh;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">      $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> nodes = [];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> links = [];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span></span><br><span class="line"><span class="undefined">          nodes.push(&#123;</span></span><br><span class="line"><span class="javascript">            id: <span class="string">`<span class="subst">$&#123;i&#125;</span>`</span>, <span class="comment">//这个 ID 在 nodes 数据中必须唯一，在 links 中可以重复出现</span></span></span><br><span class="line"><span class="javascript">            name: <span class="string">`demo<span class="subst">$&#123;i&#125;</span>`</span>, <span class="comment">//每个节点显示的名字</span></span></span><br><span class="line"><span class="javascript">            symbolSize: <span class="number">20</span>, <span class="comment">//节点在图中显示的大小</span></span></span><br><span class="line"><span class="javascript">            value: <span class="number">20</span> <span class="comment">//每个节点的数据大小，一般情况下保持和每个节点的 symbolSize 的值一致</span></span></span><br><span class="line"><span class="undefined">          &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        nodes.forEach(<span class="function">(<span class="params">ele, index, arr</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (index != arr.length - <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="undefined">            links.push(&#123;</span></span><br><span class="line"><span class="javascript">              id: index * <span class="number">2</span> + <span class="number">3</span>, <span class="comment">//这个 ID 在 links 必须唯一，但是只是作为每条数据的 ID 而已，不影响图展示</span></span></span><br><span class="line"><span class="javascript">              name: <span class="string">`demo<span class="subst">$&#123;index&#125;</span>---demo<span class="subst">$&#123;index * <span class="number">1</span> + <span class="number">1</span> * <span class="number">1</span>&#125;</span>`</span>, <span class="comment">//节点和节点的连接线上显示的数据内容</span></span></span><br><span class="line"><span class="javascript">              source: <span class="string">`<span class="subst">$&#123;index&#125;</span>`</span>, <span class="comment">//起始点(来源)</span></span></span><br><span class="line"><span class="javascript">              target: <span class="string">`<span class="subst">$&#123;index * <span class="number">1</span> + <span class="number">1</span> * <span class="number">1</span>&#125;</span>`</span></span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">        getGraph(nodes, links);</span></span><br><span class="line"><span class="undefined">      &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">getGraph</span>(<span class="params">nodes, links</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> graph = &#123;</span></span><br><span class="line"><span class="undefined">          nodes: nodes,</span></span><br><span class="line"><span class="undefined">          links: links</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="javascript">        myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">"graph"</span>));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        option = &#123;</span></span><br><span class="line"><span class="undefined">          title: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//标题</span></span></span><br><span class="line"><span class="javascript">            text: <span class="string">"同心圆关系图"</span>, <span class="comment">//标题展示的内容</span></span></span><br><span class="line"><span class="javascript">            top: <span class="string">"10"</span>, <span class="comment">//标题定位，距顶部的距离为10</span></span></span><br><span class="line"><span class="javascript">            left: <span class="string">"center"</span> <span class="comment">//距左边的值为 "center" (中间)</span></span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="undefined">          tooltip: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//修改划上去的edge显示内容</span></span></span><br><span class="line"><span class="javascript">            formatter: <span class="function"><span class="keyword">function</span>(<span class="params">param</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">if</span> (param.dataType == <span class="string">"edge"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;param.data.source&#125;</span>&gt;<span class="subst">$&#123;param.data.target&#125;</span>`</span>;</span></span><br><span class="line"><span class="undefined">              &#125;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            rich: &#123;</span></span><br><span class="line"><span class="javascript">              color: <span class="string">"black"</span></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="javascript">          animationDuration: <span class="number">1500</span>, <span class="comment">//初始动画的时长，支持回调函数，可以通过每个数据返回不同的 delay 时间实现更戏剧的初始动画效果</span></span></span><br><span class="line"><span class="javascript">          animationEasingUpdate: <span class="string">"quinticInOut"</span>, <span class="comment">//数据更新动画的缓动效果</span></span></span><br><span class="line"><span class="undefined">          series: [</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">              type: <span class="string">"graph"</span>, <span class="comment">//展示的类型为关系图</span></span></span><br><span class="line"><span class="javascript">              <span class="comment">// layout: "force",</span></span></span><br><span class="line"><span class="javascript">              layout: <span class="string">"circular"</span>, <span class="comment">//图的布局。'none' 不采用任何布局，使用节点中提供的 x， y 作为节点的位置。'circular' 采用环形布局，'force' 采用力引导布局,[ default: 'none' ]</span></span></span><br><span class="line"><span class="javascript">              roam: <span class="literal">true</span>, <span class="comment">//是否开启鼠标缩放和平移漫游。默认不开启。如果只想要开启缩放或者平移，可以设置成 'scale' 或者 'move'。设置成 true 为都开启,[ default: false ]</span></span></span><br><span class="line"><span class="javascript">              draggable: <span class="literal">true</span>, <span class="comment">//节点是否可拖拽，只在使用力引导布局的时候有用,[ default: false ]</span></span></span><br><span class="line"><span class="javascript">              focusNodeAdjacency: <span class="literal">true</span>, <span class="comment">//是否在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点,[ default: false ]</span></span></span><br><span class="line"><span class="javascript">              data: graph.nodes, <span class="comment">//节点数据</span></span></span><br><span class="line"><span class="javascript">              links: graph.links, <span class="comment">//连线数据</span></span></span><br><span class="line"><span class="javascript">              symbol: <span class="string">"circle"</span>, <span class="comment">//关系图节点标记的图形。ECharts 提供的标记类型包括 'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none',可以通过 'image://url' 设置为图片，其中 URL 为图片的链接，或者 dataURI,[ default: 'circle' ]</span></span></span><br><span class="line"><span class="javascript">              edgeSymbol: [<span class="string">"circle"</span>, <span class="string">"arrow"</span>], <span class="comment">//边两端的标记类型，可以是一个数组分别指定两端，也可以是单个统一指定。默认不显示标记，常见的可以设置为箭头,[ default: ['none', 'none'] ]</span></span></span><br><span class="line"><span class="javascript">              edgeSymbolSize: <span class="number">10</span>, <span class="comment">//边两端的标记大小，可以是一个数组分别指定两端，也可以是单个统一指定。可以是数组[10,10],[ default: 10 ]</span></span></span><br><span class="line"><span class="javascript">              cursor: <span class="string">"pointer"</span>, <span class="comment">//鼠标悬浮时在图形元素上时鼠标的样式是什么。同 CSS 的 cursor,[ default: 'pointer' ]</span></span></span><br><span class="line"><span class="undefined">              itemStyle: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//图形样式</span></span></span><br><span class="line"><span class="undefined">                normal: &#123;</span></span><br><span class="line"><span class="javascript">                  color: <span class="string">"#06d55e"</span>,</span></span><br><span class="line"><span class="javascript">                  borderColor: <span class="string">"#fff"</span>,</span></span><br><span class="line"><span class="undefined">                  borderWidth: 1,</span></span><br><span class="line"><span class="undefined">                  shadowBlur: 10,</span></span><br><span class="line"><span class="javascript">                  shadowColor: <span class="string">"rgba(0,0,0,0.3)"</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">              label: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//图形上的文本标签，可用于说明图形的一些数据信息，比如值，名称等，label选项在 ECharts 2.x 中放置于itemStyle下，在 ECharts 3 中为了让整个配置项结构更扁平合理，label 被拿出来跟 itemStyle 平级，并且跟 itemStyle 一样拥有 emphasis 状态。</span></span></span><br><span class="line"><span class="javascript">                show: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                position: <span class="string">"inside"</span>,</span></span><br><span class="line"><span class="javascript">                formatter: <span class="string">"&#123;b&#125;"</span>,</span></span><br><span class="line"><span class="undefined">                fontSize: 20,</span></span><br><span class="line"><span class="undefined">                rich: &#123;</span></span><br><span class="line"><span class="undefined">                  b: &#123;</span></span><br><span class="line"><span class="javascript">                    color: <span class="string">"#fff"</span></span></span><br><span class="line"><span class="undefined">                  &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">              lineStyle: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//关系边的公用线条样式。其中 lineStyle.color 支持设置为'source'或者'target'特殊值，此时边会自动取源节点或目标节点的颜色作为自己的颜色。</span></span></span><br><span class="line"><span class="javascript">                color: <span class="string">"source"</span>,</span></span><br><span class="line"><span class="javascript">                curveness: <span class="number">0.1</span> <span class="comment">//边的曲度，支持从 0 到 1 的值，值越大曲度越大</span></span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">              edgeLabel: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//连线上显示的内容的设置</span></span></span><br><span class="line"><span class="javascript">                color: <span class="string">"black"</span>,</span></span><br><span class="line"><span class="javascript">                position: <span class="string">"middle"</span> <span class="comment">//连线上的内容显示的位置</span></span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">              emphasis: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//hover展示的效果</span></span></span><br><span class="line"><span class="undefined">                lineStyle: &#123;</span></span><br><span class="line"><span class="undefined">                  width: 3</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                label: &#123;</span></span><br><span class="line"><span class="javascript">                  show: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">              &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">          ]</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined">        myChart.setOption(option);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//随着浏览器视窗的变化，自适应</span></span></span><br><span class="line"><span class="undefined">          myChart.resize();</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>展示的图片效果</p><p><img src="http://lc-zltjehai.cn-n1.lcfile.com/74269132446686f34b21/echartsdemo1.png" alt="avatar"></p><h2 id="加入同心圆算法"><a href="#加入同心圆算法" class="headerlink" title="加入同心圆算法"></a>加入同心圆算法</h2><p>上干货:</p><h3 id="基础算法"><a href="#基础算法" class="headerlink" title="基础算法"></a>基础算法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//同心圆关系图坐标点计算方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPoint</span>(<span class="params">r, ox, oy, count</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> point = []; <span class="comment">//结果</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">   * 求圆周上等分点的坐标</span></span><br><span class="line"><span class="comment">   * ox,oy为圆心坐标</span></span><br><span class="line"><span class="comment">   * r为半径</span></span><br><span class="line"><span class="comment">   * count为等分个数</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">var</span> radians = (<span class="built_in">Math</span>.PI / <span class="number">180</span>) * <span class="built_in">Math</span>.round(<span class="number">360</span> / count), <span class="comment">//弧度</span></span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (; i &lt; count; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = ox + r * <span class="built_in">Math</span>.sin(radians * i),</span><br><span class="line">      y = oy + r * <span class="built_in">Math</span>.cos(radians * i);</span><br><span class="line"></span><br><span class="line">    point.unshift(&#123; <span class="attr">x</span>: x, <span class="attr">y</span>: y &#125;); <span class="comment">//为保持数据顺时针</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> point;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个是基本的同心圆坐标的数学算法，下面我们把上面的代码进行改造下</p><h3 id="处理后算法"><a href="#处理后算法" class="headerlink" title="处理后算法"></a>处理后算法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPoint</span>(<span class="params">centerId, nodes</span>) </span>&#123;</span><br><span class="line">     <span class="comment">/*</span></span><br><span class="line"><span class="comment">      * 求圆周上等分点的坐标</span></span><br><span class="line"><span class="comment">      * ox,oy为圆心坐标</span></span><br><span class="line"><span class="comment">      * r为半径</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">     <span class="keyword">var</span> ox = <span class="built_in">window</span>.innerWidth / <span class="number">2</span>;</span><br><span class="line">     <span class="keyword">var</span> oy = <span class="built_in">window</span>.innerHeight / <span class="number">2</span>;</span><br><span class="line">     <span class="keyword">var</span> r = ox &gt; oy ? oy - <span class="number">100</span> : ox - <span class="number">100</span>;</span><br><span class="line">     <span class="keyword">var</span> newNodes = [];</span><br><span class="line">     <span class="keyword">var</span> radians = (<span class="built_in">Math</span>.PI / <span class="number">180</span>) * <span class="built_in">Math</span>.round(<span class="number">360</span> / (nodes.length - <span class="number">1</span>)), <span class="comment">//弧度</span></span><br><span class="line">       i = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span> (; i &lt; nodes.length; i++) &#123;</span><br><span class="line">       <span class="keyword">if</span> (nodes[i].id == centerId) &#123;</span><br><span class="line">         newNodes.unshift(nodes[i]);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         newNodes.push(nodes[i]);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; newNodes.length; j++) &#123;</span><br><span class="line">       newNodes[j].x = ox + r * <span class="built_in">Math</span>.sin(radians * j);</span><br><span class="line">       newNodes[j].y = oy + r * <span class="built_in">Math</span>.cos(radians * j);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">//中心点位更新</span></span><br><span class="line">     newNodes[<span class="number">0</span>].x = ox;</span><br><span class="line">     newNodes[<span class="number">0</span>].y = oy;</span><br><span class="line">     <span class="keyword">return</span> newNodes || <span class="literal">null</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h1 id="直接上最终代码"><a href="#直接上最终代码" class="headerlink" title="直接上最终代码:"></a>直接上最终代码:</h1><p><b color="red" size="5">记得把 layout 的值修改为 “none” 或者直接注释/删除掉 layout 属性</b></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>echarts 同心圆图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./echarts.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">      box-sizing: border-box;</span></span><br><span class="line"><span class="undefined">      margin: 0;</span></span><br><span class="line"><span class="undefined">      width: 100%;</span></span><br><span class="line"><span class="undefined">      height: 100%;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"graph"</span> <span class="attr">style</span>=<span class="string">"width:vw;height:100vh;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">      $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> nodes = [];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> links = [];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span></span><br><span class="line"><span class="undefined">          nodes.push(&#123;</span></span><br><span class="line"><span class="javascript">            id: <span class="string">`<span class="subst">$&#123;i&#125;</span>`</span>, <span class="comment">//这个 ID 在 nodes 数据中必须唯一，在 links 中可以重复出现</span></span></span><br><span class="line"><span class="javascript">            name: <span class="string">`demo<span class="subst">$&#123;i&#125;</span>`</span>, <span class="comment">//每个节点显示的名字</span></span></span><br><span class="line"><span class="javascript">            symbolSize: <span class="number">20</span>, <span class="comment">//节点在图中显示的大小</span></span></span><br><span class="line"><span class="javascript">            value: <span class="number">20</span> <span class="comment">//每个节点的数据大小，一般情况下保持和每个节点的 symbolSize 的值一致</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// x: 662.0767566415067*i,</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// y: 71.20162612375115</span></span></span><br><span class="line"><span class="undefined">          &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        nodes.forEach(<span class="function">(<span class="params">ele, index, arr</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (index != arr.length - <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="undefined">            links.push(&#123;</span></span><br><span class="line"><span class="javascript">              id: index * <span class="number">2</span> + <span class="number">3</span>, <span class="comment">//这个 ID 在 links 必须唯一，但是只是作为每条数据的 ID 而已，不影响图展示</span></span></span><br><span class="line"><span class="javascript">              name: <span class="string">`demo<span class="subst">$&#123;index&#125;</span>---demo<span class="subst">$&#123;index * <span class="number">1</span> + <span class="number">1</span> * <span class="number">1</span>&#125;</span>`</span>, <span class="comment">//节点和节点的连接线上显示的数据内容</span></span></span><br><span class="line"><span class="javascript">              source: <span class="string">`<span class="subst">$&#123;index&#125;</span>`</span>, <span class="comment">//起始点(来源)</span></span></span><br><span class="line"><span class="javascript">              target: <span class="string">`<span class="subst">$&#123;index * <span class="number">1</span> + <span class="number">1</span> * <span class="number">1</span>&#125;</span>`</span></span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="javascript">        nodes = getPoint(<span class="string">"1"</span>, nodes);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (nodes) &#123;</span></span><br><span class="line"><span class="undefined">          getGraph(nodes, links);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">      &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">getGraph</span>(<span class="params">nodes, links</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> graph = &#123;</span></span><br><span class="line"><span class="undefined">          nodes: nodes,</span></span><br><span class="line"><span class="undefined">          links: links</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="javascript">        myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">"graph"</span>));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        option = &#123;</span></span><br><span class="line"><span class="undefined">          title: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//标题</span></span></span><br><span class="line"><span class="javascript">            text: <span class="string">"同心圆关系图"</span>, <span class="comment">//标题展示的内容</span></span></span><br><span class="line"><span class="javascript">            top: <span class="string">"10"</span>, <span class="comment">//标题定位，距顶部的距离为10</span></span></span><br><span class="line"><span class="javascript">            left: <span class="string">"center"</span> <span class="comment">//距左边的值为 "center" (中间)</span></span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="undefined">          tooltip: &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//修改划上去的edge显示内容</span></span></span><br><span class="line"><span class="javascript">            formatter: <span class="function"><span class="keyword">function</span>(<span class="params">param</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">if</span> (param.dataType == <span class="string">"edge"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;param.data.source&#125;</span>&gt;<span class="subst">$&#123;param.data.target&#125;</span>`</span>;</span></span><br><span class="line"><span class="undefined">              &#125;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            rich: &#123;</span></span><br><span class="line"><span class="javascript">              color: <span class="string">"black"</span></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="javascript">          animationDuration: <span class="number">1500</span>, <span class="comment">//初始动画的时长，支持回调函数，可以通过每个数据返回不同的 delay 时间实现更戏剧的初始动画效果</span></span></span><br><span class="line"><span class="javascript">          animationEasingUpdate: <span class="string">"quinticInOut"</span>, <span class="comment">//数据更新动画的缓动效果</span></span></span><br><span class="line"><span class="undefined">          series: [</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">              type: <span class="string">"graph"</span>, <span class="comment">//展示的类型为关系图</span></span></span><br><span class="line"><span class="javascript">              <span class="comment">// layout: "force",</span></span></span><br><span class="line"><span class="javascript">              layout: <span class="string">"none"</span>, <span class="comment">//图的布局。'none' 不采用任何布局，使用节点中提供的 x， y 作为节点的位置。'circular' 采用环形布局，'force' 采用力引导布局,[ default: 'none' ]</span></span></span><br><span class="line"><span class="javascript">              roam: <span class="literal">true</span>, <span class="comment">//是否开启鼠标缩放和平移漫游。默认不开启。如果只想要开启缩放或者平移，可以设置成 'scale' 或者 'move'。设置成 true 为都开启,[ default: false ]</span></span></span><br><span class="line"><span class="javascript">              draggable: <span class="literal">true</span>, <span class="comment">//节点是否可拖拽，只在使用力引导布局的时候有用,[ default: false ]</span></span></span><br><span class="line"><span class="javascript">              focusNodeAdjacency: <span class="literal">true</span>, <span class="comment">//是否在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点,[ default: false ]</span></span></span><br><span class="line"><span class="javascript">              data: graph.nodes, <span class="comment">//节点数据</span></span></span><br><span class="line"><span class="javascript">              links: graph.links, <span class="comment">//连线数据</span></span></span><br><span class="line"><span class="javascript">              symbol: <span class="string">"circle"</span>, <span class="comment">//关系图节点标记的图形。ECharts 提供的标记类型包括 'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none',可以通过 'image://url' 设置为图片，其中 URL 为图片的链接，或者 dataURI,[ default: 'circle' ]</span></span></span><br><span class="line"><span class="javascript">              edgeSymbol: [<span class="string">"circle"</span>, <span class="string">"arrow"</span>], <span class="comment">//边两端的标记类型，可以是一个数组分别指定两端，也可以是单个统一指定。默认不显示标记，常见的可以设置为箭头,[ default: ['none', 'none'] ]</span></span></span><br><span class="line"><span class="javascript">              edgeSymbolSize: <span class="number">10</span>, <span class="comment">//边两端的标记大小，可以是一个数组分别指定两端，也可以是单个统一指定。可以是数组[10,10],[ default: 10 ]</span></span></span><br><span class="line"><span class="javascript">              cursor: <span class="string">"pointer"</span>, <span class="comment">//鼠标悬浮时在图形元素上时鼠标的样式是什么。同 CSS 的 cursor,[ default: 'pointer' ]</span></span></span><br><span class="line"><span class="undefined">              itemStyle: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//图形样式</span></span></span><br><span class="line"><span class="undefined">                normal: &#123;</span></span><br><span class="line"><span class="javascript">                  color: <span class="string">"#06d55e"</span>,</span></span><br><span class="line"><span class="javascript">                  borderColor: <span class="string">"#fff"</span>,</span></span><br><span class="line"><span class="undefined">                  borderWidth: 1,</span></span><br><span class="line"><span class="undefined">                  shadowBlur: 10,</span></span><br><span class="line"><span class="javascript">                  shadowColor: <span class="string">"rgba(0,0,0,0.3)"</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">              label: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//图形上的文本标签，可用于说明图形的一些数据信息，比如值，名称等，label选项在 ECharts 2.x 中放置于itemStyle下，在 ECharts 3 中为了让整个配置项结构更扁平合理，label 被拿出来跟 itemStyle 平级，并且跟 itemStyle 一样拥有 emphasis 状态。</span></span></span><br><span class="line"><span class="javascript">                show: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                position: <span class="string">"inside"</span>,</span></span><br><span class="line"><span class="javascript">                formatter: <span class="string">"&#123;b&#125;"</span>,</span></span><br><span class="line"><span class="undefined">                fontSize: 20,</span></span><br><span class="line"><span class="undefined">                rich: &#123;</span></span><br><span class="line"><span class="undefined">                  b: &#123;</span></span><br><span class="line"><span class="javascript">                    color: <span class="string">"#fff"</span></span></span><br><span class="line"><span class="undefined">                  &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">              lineStyle: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//关系边的公用线条样式。其中 lineStyle.color 支持设置为'source'或者'target'特殊值，此时边会自动取源节点或目标节点的颜色作为自己的颜色。</span></span></span><br><span class="line"><span class="javascript">                color: <span class="string">"source"</span>,</span></span><br><span class="line"><span class="javascript">                curveness: <span class="number">0.1</span> <span class="comment">//边的曲度，支持从 0 到 1 的值，值越大曲度越大</span></span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">              edgeLabel: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//连线上显示的内容的设置</span></span></span><br><span class="line"><span class="javascript">                color: <span class="string">"black"</span>,</span></span><br><span class="line"><span class="javascript">                position: <span class="string">"middle"</span> <span class="comment">//连线上的内容显示的位置</span></span></span><br><span class="line"><span class="undefined">              &#125;,</span></span><br><span class="line"><span class="undefined">              emphasis: &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//hover展示的效果</span></span></span><br><span class="line"><span class="undefined">                lineStyle: &#123;</span></span><br><span class="line"><span class="undefined">                  width: 3</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                label: &#123;</span></span><br><span class="line"><span class="javascript">                  show: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">              &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">          ]</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined">        myChart.setOption(option);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//随着浏览器视窗的变化，自适应</span></span></span><br><span class="line"><span class="undefined">          myChart.resize();</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">getPoint</span>(<span class="params">centerId, nodes</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">        /*</span></span><br><span class="line"><span class="undefined">         * 求圆周上等分点的坐标</span></span><br><span class="line"><span class="undefined">         * ox,oy为圆心坐标</span></span><br><span class="line"><span class="undefined">         * r为半径</span></span><br><span class="line"><span class="undefined">         *centerId为想要作为中心点的节点的ID</span></span><br><span class="line"><span class="undefined">         *nodes为要传入到echarts中的节点数据</span></span><br><span class="line"><span class="undefined">         */</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ox = <span class="built_in">window</span>.innerWidth / <span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> oy = <span class="built_in">window</span>.innerHeight / <span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> r = ox &gt; oy ? oy - <span class="number">100</span> : ox - <span class="number">100</span>; <span class="comment">//整个同心圆的大小半径</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> newNodes = []; <span class="comment">//计算完的结果</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> radians = (<span class="built_in">Math</span>.PI / <span class="number">180</span>) * <span class="built_in">Math</span>.round(<span class="number">360</span> / (nodes.length - <span class="number">1</span>)), <span class="comment">//弧度</span></span></span><br><span class="line"><span class="undefined">          i = 0;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (; i &lt; nodes.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//这个for循环是让要放在中心点的那个点，放在数组的第一位，为后面的将中心点的坐标赋值给它提供便利</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (nodes[i].id == centerId) &#123;</span></span><br><span class="line"><span class="javascript">            newNodes.unshift(nodes[i]); <span class="comment">//中心点坐标放到第一位的方法</span></span></span><br><span class="line"><span class="javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            newNodes.push(nodes[i]); <span class="comment">//正常的 push</span></span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">1</span>; j &lt; newNodes.length; j++) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//这里是将数据除了索引为0的数组元素添加计算好的 x y 坐标</span></span></span><br><span class="line"><span class="javascript">          newNodes[j].x = ox + r * <span class="built_in">Math</span>.sin(radians * j);</span></span><br><span class="line"><span class="javascript">          newNodes[j].y = oy + r * <span class="built_in">Math</span>.cos(radians * j);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//中心节点的坐标</span></span></span><br><span class="line"><span class="undefined">        newNodes[0].x = ox;</span></span><br><span class="line"><span class="undefined">        newNodes[0].y = oy;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> newNodes || <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="最后的效果图为"><a href="#最后的效果图为" class="headerlink" title="最后的效果图为:"></a>最后的效果图为:</h2><p><img src="http://lc-zltjehai.cn-n1.lcfile.com/f947368c32255861179b/%E5%90%8C%E5%BF%83%E5%9C%86%E5%85%B3%E7%B3%BB%E5%9B%BE.png" alt="avatar"></p><p><span color="yellow" id="jump">造数据的时候，nodes 的 id 不为 String 类型并且数据中 id 和 name 的值没有相同的时候会报如下错误 ===&gt; 如图<span></span></span></p><p><img src="http://lc-zltjehai.cn-n1.lcfile.com/a0a6183920781e5b709d/echartsgrapherror.png" alt="avatar"></p><p>简单的解释下这个报错的意思——是指你的 nodes 数据中 id 或 name 有相同。</p><p>有需要详细解释的欢迎发邮件给我 <a href="mailto:601709253@qq.com" target="_blank" rel="noopener">601709253@qq.com</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iframe</title>
    <link href="http://www.zhuhaifeng.xyz/2019/04/23/iframe/"/>
    <id>http://www.zhuhaifeng.xyz/2019/04/23/iframe/</id>
    <published>2019-04-23T07:57:50.000Z</published>
    <updated>2019-04-23T07:57:50.875Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Markdown简易语法</title>
    <link href="http://www.zhuhaifeng.xyz/2019/04/17/Markdown/"/>
    <id>http://www.zhuhaifeng.xyz/2019/04/17/Markdown/</id>
    <published>2019-04-17T01:44:38.000Z</published>
    <updated>2019-04-17T02:14:26.886Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1-什么是-Markdown"><a href="#1-什么是-Markdown" class="headerlink" title="1.什么是 Markdown"></a>1.什么是 Markdown</h1><p>Markdown 是一种纯文本格式的标记语言。通过简单的标记语法，它可以使普通文本内容具有一定的格式。<br>深入学习请移步 <a href="http://www.markdown.cn/" target="_blank">Markdown 官网</a></p><h1 id="2-Markdown-语法的优缺点"><a href="#2-Markdown-语法的优缺点" class="headerlink" title="2.Markdown 语法的优缺点"></a>2.Markdown 语法的优缺点</h1><p>优点：</p><p>1、因为是纯文本，所以只要支持 Markdown 的地方都能获得一样的编辑效果，可以让作者摆脱排版的困扰，专心写作。<br>2、操作简单。比如:WYSIWYG 编辑时标记个标题，先选中内容，再点击导航栏的标题按钮，选择几级标题。要三个步骤。而 Markdown 只需要在标题内容前加#即可</p><p>缺点：</p><p>1、需要记一些语法（当然，是很简单。五分钟学会）。<br>2、有些平台不支持 Markdown 编辑模式。</p><h1 id="3-Markdown-简易指令，轻松上手"><a href="#3-Markdown-简易指令，轻松上手" class="headerlink" title="3.Markdown 简易指令，轻松上手"></a>3.Markdown 简易指令，轻松上手</h1><h2 id="标题写法"><a href="#标题写法" class="headerlink" title="标题写法"></a>标题写法</h2><p><a href="http://baidu.com" target="_blank">超链接名</a> # 这是一级标题 ## 这是二级标题 ### 这是三级标题 #### 这是四级标题 ##### 这是五级标题 ###### 这是六级标题</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="针对于刚入门使用不熟悉的，语法文档" scheme="http://www.zhuhaifeng.xyz/tags/%E9%92%88%E5%AF%B9%E4%BA%8E%E5%88%9A%E5%85%A5%E9%97%A8%E4%BD%BF%E7%94%A8%E4%B8%8D%E7%86%9F%E6%82%89%E7%9A%84%EF%BC%8C%E8%AF%AD%E6%B3%95%E6%96%87%E6%A1%A3/"/>
    
  </entry>
  
  <entry>
    <title>Hexo入门学习</title>
    <link href="http://www.zhuhaifeng.xyz/2019/04/16/Hexostudy/"/>
    <id>http://www.zhuhaifeng.xyz/2019/04/16/Hexostudy/</id>
    <published>2019-04-16T09:37:13.000Z</published>
    <updated>2019-04-18T10:46:12.147Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="什么是-Hexo"><a href="#什么是-Hexo" class="headerlink" title="什么是 Hexo"></a>什么是 Hexo</h2><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><h2 id="Hexo-搭建步骤"><a href="#Hexo-搭建步骤" class="headerlink" title="Hexo 搭建步骤"></a>Hexo 搭建步骤</h2><ol><li>安装 Git bash (非必须,主要针对于 windows 中不习惯使用 cmd ,编译器是 VsCode 也可以不用这个)</li><li>安装 Node.js</li><li>安装 Hexo</li><li>Github 上创建个人仓库</li><li>生成 SSH 添加到 GitHub</li><li>将 hexo 部署到 GitHub</li><li>将 yourname.github.io 绑定到个人域名</li><li>发布文章</li></ol><h3 id="1-安装-Git"><a href="#1-安装-Git" class="headerlink" title="1. 安装 Git"></a>1. 安装 Git</h3><p>Git 是目前世界上最先进的分布式版本控制系统，可以有效、高速的处理从很小到非常大的项目版本管理。也就是用来管理你的 hexo 博客文章，上传到 GitHub 的工具。Git 非常强大，我觉得建议每个人都去了解一下。廖雪峰老师的 Git 教程写的非常好，大家可以了解一下。Git 教程</p><p>windows：到 git 官网上下载,Download git,下载后会有一个 Git Bash 的命令行工具，以后就用这个工具来使用 git。</p><p>linux：对 linux 来说实在是太简单了，因为最早的 git 就是在 linux 上编写的，只需要一行代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install git</span><br></pre></td></tr></table></figure><p>安装好后，用 git –version 来查看一下版本</p><h3 id="2-安装-node-js"><a href="#2-安装-node-js" class="headerlink" title="2.安装 node.js"></a>2.安装 node.js</h3><p>Hexo 是基于 nodeJS 编写的，所以需要安装一下 nodeJs 和里面的 npm 工具。</p><p>windows：nodejs 选择 LTS 版本就行了。</p><p>linux：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure><p>安装完后，打开命令行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line"></span><br><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure><p>检查一下有没有安装成功</p><p>顺便说一下，windows 在 git 安装完后，就可以直接使用 git bash 来敲命令行了，不用自带的 cmd，cmd 有点难用。</p><h3 id="3-安装-Hexo"><a href="#3-安装-Hexo" class="headerlink" title="3.安装 Hexo"></a>3.安装 Hexo</h3><p>前面 git 和 nodejs 安装好后，就可以安装 hexo 了，你可以先创建一个文件夹 blog，然后 cd 到这个文件夹下（或者在这个文件夹下直接右键 git bash 打开）。</p><p>输入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>安装完成之后,有两种方法生成 Hexo demo</p><p>1.自定义创建好一个文件夹，然后在该文件夹下的根目录中打开 Git bash ,或者你使用的编译器是 VS Code 可以直接将该文件夹托人到 VS Code 编辑器中，然后使用命令 Ctrl + ~ 打开终端窗口,输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init (简写 hexo i)</span><br></pre></td></tr></table></figure><p>只需等待 demo 自己加载完即可</p><p>2.相对于方法一来说比较简便,使用 一行代码直接在你当前目录下生成 Hexo Demo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init myBlog</span><br></pre></td></tr></table></figure><p>其中 myBlog 是你 Hexo demo 的文件夹的名字。</p><p>新建完成后，指定文件夹目录下有：</p><p>node_modules: 依赖包<br>public：存放生成的页面<br>scaffolds：生成文章的一些模板<br>source：用来存放你的文章<br>themes：主题<br><strong> _config.yml: 博客的配置文件</strong></p><p>再使用命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g (这个是简写,原本的代码为 hexo generate)</span><br></pre></td></tr></table></figure><p>然后再使用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s (这个是简写,原本的代码为 hexo server / hexo serve ),默认的端口是 4000,你也可以写成 hexo s -p 8080 ,自己定义本地起 hexo 服务的端口号</span><br></pre></td></tr></table></figure><p>这样你就可以看到在 hexo 本地跑起来的服务了,特别说明下,在本地展示的效果方便于开发，可以实时的看到你所修改的博客界面。</p><h3 id="4-如何将-github-和-hexo-联系起来"><a href="#4-如何将-github-和-hexo-联系起来" class="headerlink" title="4.如何将 github 和 hexo 联系起来?"></a>4.如何将 github 和 hexo 联系起来?</h3><h5 id="1-你需要先配置一下-SSH-key"><a href="#1-你需要先配置一下-SSH-key" class="headerlink" title="1. 你需要先配置一下 SSH key"></a>1. 你需要先配置一下 SSH key</h5><p>为什么要配置这个呢？因为你提交代码肯定要拥有你的 github 权限才可以，但是直接使用用户名和密码太不安全了，所以我们使用 ssh key 来解决本地和服务器的连接问题。</p><blockquote><p>a. 重新打开 Git 命令窗口，输入下面命令:</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"git@github.com"</span> //Github 的注册邮箱地址</span><br></pre></td></tr></table></figure><blockquote><p>b. 一路 Enter 过来就好，得到的信息如下:</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Your public key has been saved <span class="keyword">in</span> /c/Users/user/.ssh/id_rsa.pub.</span><br></pre></td></tr></table></figure><blockquote><p>找到该文件并打开，复制里面的所有内容，然后进入 Sign in to GitHub：<a href="https://github.com/settings/ssh" target="_blank" rel="noopener">https://github.com/settings/ssh</a></p></blockquote><blockquote><p>c. 依次执行下面步骤:<br>点击 New SSH key —— Title：blog —— Key：输入刚才复制的 —— Add SSH key</p></blockquote><blockquote><p>d. 测试一下是否成功,输入下方命令:</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com //git@github.com</span><br></pre></td></tr></table></figure><blockquote><p>只要看到返回的信息中带有如下内容就说明成功了,</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi SquabbyZ! You<span class="string">'ve successfully authenticated</span></span><br></pre></td></tr></table></figure><h5 id="2-设置-Git-的-user-name-和-email"><a href="#2-设置-Git-的-user-name-和-email" class="headerlink" title="2.设置 Git 的 user name 和 email"></a>2.设置 Git 的 user name 和 email</h5><p>最好是在你当前 Hexo Demo 的目录下 依次执行下面的两个指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"SquabbyZ"</span> // 你的 github 用户名，非昵称</span><br><span class="line">git config --global user.email <span class="string">"git@github.com"</span> // 填写你的 github 注册邮箱</span><br></pre></td></tr></table></figure><h5 id="3-修改参数及配置-deploy-git"><a href="#3-修改参数及配置-deploy-git" class="headerlink" title="3.修改参数及配置 deploy-git"></a>3.修改参数及配置 deploy-git</h5><blockquote><p>a.修改参数<br>下面来简单介绍下 Hexo 项目中的配置文件 _config.yml<br>Hexo 中的一些基本配置都需要在该文件里完成,这里只介绍简单的一些配置项</p></blockquote><blockquote><blockquote><p>① title: SquabbyZ 的小黑屋 //你自己博客的名字<br>② subtitle: 技术博客 //博客副标题<br>③ description: 一只致力于成为全栈的小胖纸 //你博客的描述<br>④ author: Squabby Zhu //博客的作者</p></blockquote></blockquote><blockquote><p>然后把配置文件下拉到最低下后,还有一些配置项需要去修改</p></blockquote><blockquote><blockquote><p>⑤ theme: next //主题文件夹的名字,关于更换主题内容可以直接点击更换主题<br>⑥ deploy: //这里的配置,就是跟 Github 上你要把这个 demo 存入到仓库的配置<br>type: git //类型 github<br>repo: ssh:<a href="mailto://git@github.com" target="_blank" rel="noopener">//git@github.com</a>/SquabbyZ/SquabbyZ.github.io.git<br>//仓库地址，必须这样写 ssh:<a href="mailto://git@github.com" target="_blank" rel="noopener">//git@github.com</a>/yourname/yourname.github.io.git ,注意这里的地址不是昵称。<br>branch: master //仓库分支为:主分支<br>上面这些配置好后,可以在 hexo 本地服务中看到除了 deploy 中修改外的其他修改的内容。</p></blockquote></blockquote><blockquote><p>b.使用 deploy-git 工具,将本地做好的博客上传到 github 仓库中，更新仓库展示内容</p></blockquote><blockquote><blockquote><p>先下载插件 deploy-git，指令如下:</p></blockquote></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><blockquote><blockquote><p>插件下载完成后,按顺序输入如下命令:</p></blockquote></blockquote><blockquote><blockquote><p>① hexo clean //清除了你之前生成的东西，也可以不加<br>② hexo generate //顾名思义，生成静态文章，可以用 hexo g 缩写<br>③ hexo deploy //部署文章，可以用 hexo d 缩写</p></blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="主要介绍 Hexo个人博客模板的搭建与Github的连通，以及个人域名绑定" scheme="http://www.zhuhaifeng.xyz/tags/%E4%B8%BB%E8%A6%81%E4%BB%8B%E7%BB%8D-Hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%A8%A1%E6%9D%BF%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%8EGithub%E7%9A%84%E8%BF%9E%E9%80%9A%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/"/>
    
  </entry>
  
  <entry>
    <title>HelloWorld</title>
    <link href="http://www.zhuhaifeng.xyz/2019/04/16/helloworld/"/>
    <id>http://www.zhuhaifeng.xyz/2019/04/16/helloworld/</id>
    <published>2019-04-16T08:32:34.778Z</published>
    <updated>2019-04-30T06:05:35.084Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;My New Post&quot;</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
  </entry>
  
</feed>
